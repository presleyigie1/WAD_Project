<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styling/design.css" />
     <!--Jquery Link-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="scripts/times.js"></script>
    <title>Bus/Plane Times</title>
  </head>
  <body>
    <!--Code Reference:https://www.w3schools.com/howto/howto_js_mobile_navbar.asp-->
    <div class="container">
        <div class="menu">      
            <h1 class="active">BLF(Bus,Luas,Flights) Corporation</h1>
            <div id="linksTwo">
                <a href="Index.html">Home</a>
                <a href="Journey.html">Routes</a>
                <a href="Times.html">Bus Times & Flight Timetables</a>
                <a href="Weather.html">Weather</a>
            </div>
            <a href="javascript:void(0);" class="icon" onclick="hamburgerMenu()">
                <i class="fa fa-bars"></i>
            </a>
    </div>
    <h1 class="para">Click on the Navbar to find the pages</h1>
<div style="padding-left:16px">
  <h1 class="para">Bus and Flight Times for Dublin</h3>
  <p class="para">With our company we provide information for travelling flights from Dublin to London Gatwick airport</p>
  <h1 class="para">Current Time</h3>
   <p id="digitalClock" class="design" onload="clock()"></p>  
    <div class="container">
        <h1 class="pa">We also provide air travel information for travel in Ireland to other countries</h1>
        <h2>All Flight Details below are obtained from our RyanAir Server and always being updated</h2>
        <div id="display" id="show" id="hide">
            <h1 class="para">Time Slot 1</h1>
            <div id="print"></div>
            
        </div>
        <div id ="display">
            <h1 class="para">Time Slot 2</h1>
            <div id="print2"></div>
        </div>
        <div id ="display" >
            <h1 class="para">Time Slot 3</h1>
            <div id="print3"></div>
        </div>
        <ul id="list"></ul>
    </div>
</div>
<div>
</div>
<h2>Bus Times for the Express Buses</h2>
	<table id="table">
	</table>
    <br>
    <br>
    <button onclick = "constructTable('#table')">Display Dublin Express Times</button>
    <script>
    //Code resource and inspiration from:https://www.geeksforgeeks.org/how-to-convert-json-data-to-a-html-table-using-javascript-jquery/  
        var list = [
            {"Bus Stop":"Dublin Airport",           
            "Daily Times":"4:05am",
            "Monday-Friday Times":"7:05am",
            "Saturday-Sunday Times":"7:35am",
            "Holiday Times":"8:05"
            },
            {"Bus Stop":"George's Quay",
             "Daily Times":"4:11am", 
             "Monday-Friday Times":"7:11am",
             "Saturday-Sunday Times":"7:40am",
             "Holiday Times":"8:10am"
            },
            {"Bus Stop":"Aston Quay",
             "Daily Times":"4:28am", 
             "Monday-Friday Times":"7:39am",
             "Saturday-Sunday Times":"7:40am",
             "Holiday Times":"8:11am"},

             {"Bus Stop":"Wellington Quay",
             "Daily Times":"4:31am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Merchants Quay",
             "Daily Times":"4:40am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Usher's Quay",
             "Daily Times":"5:00am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Heuston Station",
             "Daily Times":"5:20am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Arran Quay",
             "Daily Times":"5:30am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Ormond Quay Upper",
             "Daily Times":"6:00am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Eden Quay",
             "Daily Times":"4:31am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15 am"},

             {"Bus Stop":"Custom House Quay",
             "Daily Times":"4:31am", 
             "Monday-Friday Times":"7:44am",
             "Saturday-Sunday Times":"7:42am",
             "Holiday Times":"8:15am"}
        ];   
        innerHTML=JSON.stringify(list[0]) + "<br>"
                + JSON.stringify(list[1]) + "<br>"
                + JSON.stringify(list[2]+"<br>"
                + JSON.stringify(list[3] +"<br>")+
                JSON.stringify(list[4]+"<br>"+
                JSON.stringify(list[5])+"<br>"+
                JSON.stringify(list[6]))
                );  
        function constructTable(selector) {
			
			// Getting the all column names
			var cols = Headers(list, selector);//Calling API
			// Traversing the JSON data
			for (var i = 0; i < list.length; i++) {
				var row = $('<tr/>');
				for (var colIndex = 0; colIndex < cols.length; colIndex++)
				{
					var val = list[i][cols[colIndex]];	
					// If there is any key, which is matching
					// with the column name
					if (val == null) val = "";
						row.append($('<td/>').html(val));
				}
				// Adding each row to the table
				$(selector).append(row);
			}
		}
		function Headers(list, selector) {
			var columns = [];
            //rows
			var header = $('<tr/>');
			for (var i = 0; i < list.length; i++) {
				var row = list[i];
				
				for (var k in row) {
					if ($.inArray(k, columns) == -1) {
						columns.push(k);
						header.append($('<th/>').html(k));
					}
				}
			}
			$(selector).append(header);
				return columns;
		}	
    </script>
  <script>
        function clock(){
            var date = new Date()//date api/package
            var hours=date.getHours()
            var minutes=date.getMinutes()
            var seconds=date.getSeconds()
            var period="am"

            if(hours ==0){
                hours = 12
            }

            if(hours >12){
                hours=hours-12
                period = "pm"
            }
//? calling a functions or object property in javascript
            hours=(hours <10) ? "0"+ hours:hours
            minutes=(minutes <10) ? "0"+minutes:minutes
            seconds=(seconds <10) ? "0"+seconds:seconds
            let time = hours+":"+minutes+":"+seconds+" "+period
            document.getElementById("digitalClock").innerHTML = time
            document.getElementById("digitalClock").textContent =time

            setTimeout(clock,1000)
        }
        clock()
    </script>
    <script>
        function hamburgerMenu() {
            var menu = document.getElementById("linksTwo");
            if (menu.style.display === "block") {
                menu.style.display = "none";
                } 
                else {
                    menu.style.display = "block";
            }
        }
    </script>
    </body>
</html>
